<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <!-- QWeb Report Template -->
    <template id="report_hotel_booking_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="wizard">
                <t t-set="start_date" t-value="wizard.start_date"/>
                <t t-set="end_date" t-value="wizard.end_date"/>

                <div class="page">
                    <h2 style="text-align:center;">Hotel Booking Report</h2>
                    <p>
                        <strong>From:</strong> <t t-esc="start_date"/> 
                        <strong>To:</strong> <t t-esc="end_date"/>
                    </p>

                    <table class="table table-sm table-bordered" style="width:100%;">
                        <thead>
                            <tr>
                                <th>Folio No</th>
                                <th>Customer</th>
                                <th>Date Order</th>
                                <th>Status</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="env['hotel.booking'].search([('date_order','&gt;=', start_date), ('date_order','&lt;=', end_date)])" t-as="booking">
                                <tr>
                                    <td><t t-esc="booking.name"/></td>
                                    <td><t t-esc="booking.customer_name.name"/></td>
                                    <td><t t-esc="booking.date_order"/></td>
                                    <td><t t-esc="booking.status"/></td>
                                    <td class="text-right"><t t-esc="booking.amount_total"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>

    <!-- Report Action -->
    <report
        id="report_hotel_booking"
        model="hotel.report.wizard"
        string="Hotel Booking Report"
        report_type="qweb-pdf"
        name="hotel_management_system.report_hotel_booking_template"
        file="hotel_management_system.report_hotel_booking_template"
        print_report_name="'Hotel Booking Report - %s' % (object.start_date)"
    />

</odoo>
